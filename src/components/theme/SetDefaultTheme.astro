<script>
	const storedDark = JSON.parse(localStorage.getItem("astros:darktheme"));

	const prefersDark =
		window &&
		window.matchMedia &&
		window.matchMedia("(prefers-color-scheme: dark)").matches;

	const dark = typeof storedDark === "boolean" ? storedDark : prefersDark;

	document.documentElement.setAttribute(
		"data-theme",
		dark ? "dark" : "light"
	);
</script>
